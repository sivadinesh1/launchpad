<ion-content>
    <div class="content">
        <app-messages></app-messages>

        <div style="display: flex; justify-content: space-between">
            <div
                style="
                    padding: 1rem 0rem 0rem 2rem;
                    font-size: 1.2rem;
                    font-weight: 400;
                    display: grid;
                    justify-items: flex-start;
                "
            >
                <div>Active Vendors</div>

                <div>
                    <div class="btn-grad add-btn" (click)="add()">
                        <mat-icon class="add-icon">add</mat-icon>
                        <span style="padding-left: 10px; font-size: 20px"
                            >Add Vendor</span
                        >
                    </div>
                </div>
            </div>

            <div class="actions">
                <img
                    matTooltip="Download"
                    matTooltipClass="tooltip"
                    src="/assets/images/svg/direct-download.svg"
                    style="cursor: pointer"
                    width="32px"
                    height="32px"
                    (click)="exportToExcel()"
                />
            </div>

            <div>
                <ion-searchbar
                    style="width: 400px"
                    autofocus
                    debounce="400"
                    placeholder="Search by brand name"
                    #mySearchbar
                    class="search"
                    show-cancel-button="focus"
                    (ionClear)="reset()"
                    (ionChange)="applyFilter($event.target.value)"
                ></ion-searchbar>
            </div>
        </div>

        <ng-container *ngIf="isTableHasData">
            <div style="width: 90%; display: grid; margin: 0 auto">
                <div class="row1">
                    <div class="row-cnt">
                        &nbsp;&nbsp;
                        <span
                            *ngIf="pageLength >= 50"
                            style="font-size: 14px; color: #4a4ccf"
                        >
                            Showing {{ pageLength }} + matching records
                        </span>
                        <span
                            *ngIf="pageLength < 50"
                            style="font-size: 14px; color: #4a4ccf"
                        >
                            Showing {{ pageLength }} matching records
                        </span>
                    </div>
                </div>

                <div class="header lp-table-header">
                    <div class="column-item">#</div>
                    <div class="column-item">Name</div>
                    <div class="column-item">Additional Info</div>

                    <div class="column-item">Action</div>
                </div>

                <div
                    *ngFor="let item of resultArray; let idx = index"
                    class="listItem"
                >
                    <div>{{idx + 1}}</div>
                    <div class="item">
                        <div style="padding: 3px">{{item.vendor_name}}</div>

                        <div style="padding: 3px">
                            CR:
                            <span style="color: #ef4249">
                                {{item.credit_amt | nullzero | currency:
                                "INR"}}</span
                            >
                            DR:
                            <span style="color: #ef4249">
                                {{item.balance_amt | nullzero | currency:
                                "INR"}}</span
                            >
                        </div>
                        <div style="padding: 3px">
                            Last Payment {{item.last_paid_date | nulldash }}
                        </div>
                    </div>

                    <div class="item">
                        <div style="padding: 3px">{{item.name}}</div>
                        <div style="padding: 3px">{{item.address1}}</div>
                        <div style="padding: 3px">
                            {{item.address2 | nullna}}
                        </div>
                    </div>
                    <div
                        style="text-align: left; cursor: pointer"
                        (click)="goVendorFinancials(item)"
                    >
                        <div>
                            <span style="color: blue"> Financial Reports </span>
                        </div>
                    </div>

                    <div style="text-align: left; cursor: pointer">
                        <div>
                            <button mat-menu-item (click)="edit(item)">
                                <mat-icon
                                    #tooltip="matTooltip"
                                    matTooltip="Edit/Modify Vendor Details"
                                    matTooltipClass="tooltip"
                                    (mousedown)="tooltip.hide()"
                                    >edit
                                </mat-icon>
                            </button>
                        </div>
                    </div>

                    <div>
                        <button mat-menu-item (click)="delete(item)">
                            <mat-icon
                                #tooltip="matTooltip"
                                matTooltip="Delete Vendor Details"
                                matTooltipClass="tooltip"
                                (mousedown)="tooltip.hide()"
                                >delete</mat-icon
                            >
                        </button>
                    </div>
                </div>
            </div>
        </ng-container>

        <!-- <ng-container>
            <div class="example-container mat-elevation-z8">
                <div class="example-table-container" #epltable>
                    <table
                        mat-table
                        [dataSource]="dataSource"
                        multiTemplateDataRows
                    >
                        <ng-container matColumnDef="name">
                            <th mat-header-cell *matHeaderCellDef>Name</th>
                            <td
                                mat-cell
                                *matCellDef="let element"
                                class="m-card-title"
                                data-label="Name"
                            >
                                <div style="padding: 3px">
                                    {{element.vendor_name}}
                                </div>
                                <div style="padding: 3px">
                                    CR:
                                    <span style="color: #ef4249">
                                        {{element.credit_amt | nullzero |
                                        currency: "INR"}}</span
                                    >
                                    / DR:
                                    <span style="color: #ef4249">
                                        {{element.balance_amt | nullzero |
                                        currency: "INR"}}</span
                                    >
                                </div>
                                <div style="padding: 3px">
                                    Last Payment {{element.last_paid_date |
                                    nulldash }}
                                </div>
                            </td>
                        </ng-container>

                        <ng-container matColumnDef="address1">
                            <th mat-header-cell *matHeaderCellDef>
                                Additional Info
                            </th>
                            <td
                                mat-cell
                                *matCellDef="let element"
                                class="m-card-sub-title"
                                data-label="Form type"
                            >
                                <div style="padding: 3px">{{element.name}}</div>
                                <div style="padding: 3px">
                                    {{element.address1}}
                                </div>
                                <div style="padding: 3px">
                                    {{element.address2 | nullna}}
                                </div>
                            </td>
                        </ng-container>

                        <ng-container matColumnDef="credit">
                            <th mat-header-cell *matHeaderCellDef>&nbsp;</th>
                            <td
                                mat-cell
                                *matCellDef="let element"
                                class="m-card-title"
                                data-label="Name"
                            >
                                <div
                                    style="text-align: left; cursor: pointer"
                                    (click)="goVendorFinancials(element)"
                                >
                                    <div>
                                        <span style="color: blue">
                                            Financial Reports
                                        </span>
                                    </div>
                                </div>
                            </td>
                        </ng-container>
                        <ng-container matColumnDef="outstanding">
                            <th mat-header-cell *matHeaderCellDef>&nbsp;</th>
                            <td
                                mat-cell
                                *matCellDef="let element"
                                class="m-card-title"
                                data-label="Name"
                            >
                                <div style="text-align: left; cursor: pointer">
                                    <div>
                                        <button
                                            mat-menu-item
                                            (click)="edit(element)"
                                        >
                                            <mat-icon
                                                #tooltip="matTooltip"
                                                matTooltip="Edit/Modify Vendor Details"
                                                matTooltipClass="tooltip"
                                                (mousedown)="tooltip.hide()"
                                                >edit
                                            </mat-icon>
                                        </button>
                                    </div>
                                </div>
                            </td>
                        </ng-container>
                        <ng-container matColumnDef="lastpaiddate">
                            <th mat-header-cell *matHeaderCellDef>&nbsp;</th>
                            <td
                                mat-cell
                                *matCellDef="let element"
                                class="m-card-title"
                                data-label="Name"
                            >
                                <button mat-menu-item (click)="delete(element)">
                                    <mat-icon
                                        #tooltip="matTooltip"
                                        matTooltip="Delete Vendor Details"
                                        matTooltipClass="tooltip"
                                        (mousedown)="tooltip.hide()"
                                        >delete</mat-icon
                                    >
                                </button>
                            </td>
                        </ng-container>

                        <tr
                            mat-header-row
                            *matHeaderRowDef="displayedColumns; sticky: true"
                        ></tr>

                        <tr
                            class="example-element-row"
                            mat-row
                            *matRowDef="let row; columns: displayedColumns;"
                        ></tr>
                    </table>
                    <div [hidden]="isTableHasData" class="center-message">
                        No Data available.
                    </div>
                </div>
                <mat-paginator
                    [pageSizeOptions]="[10, 20]"
                    showFirstLastButtons
                ></mat-paginator>
            </div>
        </ng-container> -->
    </div>
</ion-content>
