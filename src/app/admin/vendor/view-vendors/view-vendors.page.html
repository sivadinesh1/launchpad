<ion-content>
    <div class="content">
        <div class="header">
            <div>
                <div>Vendors Profile</div>
            </div>
            <div>
                <div class="btn-grad-no-margin add-btn" (click)="add()">
                    <mat-icon class="add-icon">add</mat-icon>
                    <span class="add-icon-label">Add Vendor</span>
                </div>
            </div>
        </div>

        <div class="head">
            <div class="search_box">
                <ion-searchbar
                    style="width: 300px"
                    autofocus
                    debounce="400"
                    placeholder="Search..."
                    #mySearchbar
                    show-cancel-button="focus"
                    (ionClear)="reset()"
                    (ionChange)="applyFilter($event)"
                ></ion-searchbar>
            </div>

            <div class="full-download" style="align-self: center">
                <button
                    style="border-radius: 0px"
                    appPreventDoubleClick
                    class="cursor"
                    type="button"
                    [throttleTime]="500"
                    mat-flat-button
                    type="button"
                    color="primary"
                    tabindex="-1"
                    (click)="exportVendorDataToExcel()"
                >
                    Download
                </button>
            </div>
        </div>

        <ng-container *ngIf="isTableHasData">
            <div style="width: 100%; display: grid; margin: 0 auto">
                <div class="table_header lp-table-header">
                    <div class="column-item">#</div>
                    <div class="column-item">Name</div>
                    <div class="column-item">Additional Info</div>
                    <div class="column-item">Contacts</div>
                    <div class="column-item">&nbsp;</div>
                    <div class="column-item">&nbsp;</div>
                </div>

                <div
                    *ngFor="let item of resultArray; let idx = index"
                    class="vendor-view-listItem"
                >
                    <div>{{idx + 1}}</div>
                    <div class="item">
                        <div
                            style="padding: 3px"
                            (click)="edit(item)"
                            style="
                                cursor: pointer;
                                color: #4a4ccf;
                                font-size: 16px;
                                font-weight: 600;
                            "
                        >
                            {{item.vendor_name}}
                        </div>
                    </div>

                    <div class="item">
                        <div style="padding: 3px">{{item.name}}</div>
                        <div style="padding: 3px">{{item.address1}}</div>
                        <div style="padding: 3px">
                            {{item.address2 | nullna}}
                        </div>
                        <div style="padding: 3px">
                            {{item.address3 | nullna}}
                        </div>
                        <div style="padding: 3px">{{item.state | nullna}}</div>
                    </div>
                    <div class="item">
                        <div style="padding: 3px">{{item.mobile | nullna}}</div>
                    </div>
                    <div
                        style="text-align: center; cursor: pointer"
                        (click)="goVendorFinancials(item)"
                    >
                        <div>
                            <span style="color: blue"> Accounts </span>
                        </div>
                    </div>

                    <div class="delete-me">
                        <img
                            src="/assets/images/svg/trash.svg"
                            width="18px"
                            height="18px"
                            (click)="delete(item)"
                        />
                    </div>
                </div>
            </div>
        </ng-container>
    </div>
</ion-content>
