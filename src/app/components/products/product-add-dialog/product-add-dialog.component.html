<div
    style="
        width: 500px;
        background-color: #fff;
        box-shadow: 0px 0px 9px -5px rgb(0 0 0 / 70%);
        display: flex;
        position: fixed;
        justify-content: space-between;
        align-items: center;
        z-index: 2;
        top: -1px;
        padding: 1rem;
        font-weight: 500;
    "
>
    <div>Add New Product</div>
    <div>
        <img
            class="cursor"
            src="/assets/images/svg/close.svg"
            (click)="close()"
            width="20px"
            height="20px"
        />
    </div>
</div>

<div class="content">
    <form class="myForm" [formGroup]="submitForm">
        <div>
            <mat-radio-group
                formControlName="product_type"
                class="example-radio-group"
            >
                <mat-radio-button
                    style="padding-top: 10px; padding-right: 10px"
                    value="{{ op.id }}"
                    *ngFor="let op of productType"
                    [checked]="op.checked"
                    >{{ op.name }}</mat-radio-button
                >
            </mat-radio-group>
        </div>
        <hr />
        <div>
            <span
                *ngIf="this.submitForm.value.product_type === 'P'"
                class="product_type"
                >Storable products are physical items for which you manage the
                inventory level.</span
            >
            <span
                *ngIf="this.submitForm.value.product_type === 'S'"
                class="product_type"
                >Work done in return of cash.
            </span>
            <span
                *ngIf="this.submitForm.value.product_type === 'C'"
                class="product_type"
            >
                Consumables are physical products for which you don't manage the
                inventory level: they are always available.</span
            >
        </div>
        <div class="code">
            <mat-form-field
                class="mat-width-ext"
                style="padding: 8px 0px 0px 6px"
            >
                <mat-label>Product Item Code</mat-label>
                <input
                    matInput
                    formControlName="product_code"
                    required
                    autocomplete="off"
                />
                <mat-error>This field is required</mat-error>
            </mat-form-field>
            <div *ngIf="product_exists" class="error">Already Exists</div>
        </div>
        <!-- <div style="display: grid; grid-column: 2/-1"> -->
        <div>
            <mat-form-field
                style="padding: 8px 0px 0px 6px"
                class="mat-width-ext form-field-gap"
            >
                <mat-label>Product Description</mat-label>
                <input
                    matInput
                    formControlName="product_description"
                    required
                    autocomplete="off"
                />
                <mat-error>This field is required</mat-error>
            </mat-form-field>
        </div>
        <div>
            <mat-form-field
                style="padding: 8px 0px 0px 6px"
                class="mat-width-ext"
            >
                <mat-label>Product's Brand</mat-label>
                <mat-select formControlName="brand_id" required>
                    <mat-option *ngFor="let item of brands" [value]="item.id">
                        {{ item.brand_name }}
                    </mat-option>
                </mat-select>
                <mat-error>This field is required</mat-error>
            </mat-form-field>
        </div>

        <div
            style="
                display: grid;
                grid-template-columns: 1fr 1fr;
                gap: 10px;
                padding: 16px 0px 0px 6px;
            "
        >
            <div>
                <mat-form-field class="mat-width-ext">
                    <mat-label>UOM</mat-label>
                    <mat-select formControlName="uom" required>
                        <mat-option *ngFor="let item of uom" [value]="item.key">
                            {{ item.viewValue }}
                        </mat-option>
                    </mat-select>
                    <mat-hint>Unit of measurement</mat-hint>
                </mat-form-field>
            </div>
            <div>
                <mat-form-field class="mat-width-ext">
                    <mat-label>Pack Size</mat-label>
                    <input
                        matInput
                        type="number"
                        formControlName="packet_size"
                        required
                        numeric
                        autocomplete="off"
                    />
                    <mat-error>This field is required</mat-error>
                </mat-form-field>
            </div>
        </div>

        <div
            style="
                display: grid;
                grid-template-columns: 1fr 1fr;
                gap: 10px;
                padding: 16px 0px 0px 6px;
            "
        >
            <div>
                <mat-form-field class="mat-width-ext">
                    <mat-label>HSN Code</mat-label>
                    <input
                        matInput
                        formControlName="hsn_code"
                        required
                        autocomplete="off"
                    />
                </mat-form-field>
            </div>

            <div>
                <mat-form-field class="mat-width-ext">
                    <mat-label>Tax Rate (%)</mat-label>
                    <mat-select formControlName="tax_rate" required>
                        <mat-option *ngFor="let item of tax" [value]="item.key">
                            {{ item.viewValue }}
                        </mat-option>
                    </mat-select>
                    <mat-error>This field is required</mat-error>
                </mat-form-field>
            </div>
        </div>
        <div
            style="
                display: grid;
                grid-template-columns: 1fr;
                gap: 10px;
                padding: 8px 0px 0px 6px;
            "
        >
            <div>
                <mat-form-field class="mat-width-ext">
                    <mat-label>Current Stock</mat-label>
                    <input
                        matInput
                        type="number"
                        formControlName="current_stock"
                        required
                        numeric
                        autocomplete="off"
                    />
                    <mat-error>This field is required</mat-error>
                    <mat-hint>Current Stock in Hand</mat-hint>
                </mat-form-field>
            </div>
        </div>
        <div
            style="
                display: grid;
                grid-template-columns: 1fr 1fr;
                gap: 10px;
                padding: 16px 0px 0px 8px;
            "
        >
            <div>
                <mat-form-field class="mat-width-ext">
                    <mat-label>Min. Qty</mat-label>
                    <input
                        matInput
                        type="number"
                        formControlName="minimum_quantity"
                        required
                        numeric
                        autocomplete="off"
                    />
                    <mat-error>This field is required</mat-error>
                    <mat-hint>Minimum in stock expected</mat-hint>
                </mat-form-field>
            </div>

            <div>
                <mat-form-field class="mat-width-100">
                    <mat-label>MRP</mat-label>
                    <input
                        matInput
                        type="number"
                        formControlName="mrp"
                        required
                        numeric
                        autocomplete="off"
                    />
                    <mat-error>This field is required</mat-error>
                </mat-form-field>
            </div>
        </div>
        <div
            style="
                display: grid;
                grid-template-columns: 1fr 1fr;
                gap: 10px;
                padding: 16px 0px 0px 8px;
            "
        >
            <div>
                <mat-form-field class="mat-width-ext">
                    <mat-label>Purchase Price</mat-label>
                    <input
                        matInput
                        type="number"
                        formControlName="purchase_price"
                        required
                        numeric
                        autocomplete="off"
                    />
                    <mat-error>This field is required</mat-error>
                </mat-form-field>
            </div>
            <div>
                <mat-form-field class="mat-width-ext">
                    <mat-label>Rack #</mat-label>
                    <input
                        matInput
                        type="text"
                        formControlName="rack_info"
                        autocomplete="off"
                    />
                </mat-form-field>
            </div>
        </div>

        <div style="text-align: center">
            <button
                mat-raised-button
                color="primary"
                (click)="onSubmit()"
                type="button"
            >
                + Add Product
            </button>
        </div>
    </form>
</div>
