<div class="pcd-screen-header">
    <div
        style="
            font-size: 16px;
            font-weight: 600;
            letter-spacing: 1px;
            color: #000;
        "
    >
        STOCK ADJUSTMENT
    </div>
    <div>
        <img
            class="cursor"
            src="/assets/images/svg/close.svg"
            (click)="close()"
            width="20px"
            height="20px"
        />
    </div>
</div>

<div class="content">
    <div style="padding: 0 0 1rem 0">
        <div>
            <span style="font-size: 15px; font-weight: 600; color: #000">
                Product Code :
            </span>
            <span
                style="
                    font-size: 14px;
                    font-weight: 500;
                    color: rgba(0, 0, 0, 0.53);
                "
            >
                {{ this.data.product_code }}
            </span>
        </div>

        <div>
            <span style="font-size: 15px; font-weight: 600; color: #000">
                Item Description :
            </span>
            <span
                style="
                    font-size: 14px;
                    font-weight: 500;
                    color: rgba(0, 0, 0, 0.53);
                "
            >
                {{ this.data.product_description }}
            </span>
        </div>
    </div>
    <div>
        <div>Stock / MRP Info</div>
        <div class="listHeader">
            <div class="txt-right-align">MRP</div>
            <div class="txt-right-align">In Stock</div>
            <div class="txt-right-align" style="padding-left: 16px">
                Correction
            </div>
            <div>&nbsp;</div>
            <div>&nbsp;</div>
            <div>&nbsp;</div>
        </div>
        <form name="form">
            <div
                *ngFor="let item of stock_list_array; let IdxVar = index"
                class="listItem"
            >
                <div style="text-align: right">{{ item.mrp }}</div>
                <div style="text-align: right">{{ item.available_stock }}</div>

                <!-- <div *ngIf="this.stock_list_array?.length === 1">&nbsp;</div> -->
                <div *ngIf="item.is_active === 'A'" style="text-align: right">
                    <mat-form-field
                        style="
                            width: 60px;
                            text-align: right;
                            padding-left: 16px;
                        "
                    >
                        <input
                            type="number"
                            matInput
                            value="0"
                            appSelectOnFocus
                            name="field_{{ IdxVar }}"
                            [(ngModel)]="inputAryVar[IdxVar].corrected_stock"
                        />
                    </mat-form-field>
                </div>
                <div
                    *ngIf="item.is_active === 'N'"
                    style="
                        color: rgb(183, 183, 183);

                        text-align: right;
                    "
                >
                    Adjustment (disabled)
                </div>

                <div style="text-align: right">
                    <mat-form-field
                        *ngIf="item.is_active === 'A'"
                        style="width: 180px; padding-left: 16px"
                    >
                        <mat-select
                            placeholder="Select Reason"
                            required
                            (selectionChange)="handleChange($event, IdxVar)"
                        >
                            <mat-option value="Missing"
                                >Missing Item</mat-option
                            >
                            <mat-option value="Waste">Waste</mat-option>
                            <mat-option value="Breakage">Breakage</mat-option>
                            <mat-option value="Shrinkage">Shrinkage</mat-option>
                            <mat-option value="Write-offs"
                                >Write-offs</mat-option
                            >
                            <mat-option value="Internal">Internal</mat-option>
                            <mat-option value="Other">Other</mat-option>
                        </mat-select>
                    </mat-form-field>
                    <span *ngIf="item.is_active !== 'A'">&nbsp;</span>
                </div>

                <div
                    *ngIf="item.is_active === 'A'"
                    class="btn-grad add-btn"
                    (click)="update(item, IdxVar)"
                >
                    <span style="padding: 5px">Update</span>
                </div>

                <div
                    *ngIf="item.is_active === 'A'"
                    style="color: red; cursor: pointer; text-align: right"
                    (click)="deactivate(item)"
                >
                    {{ "Deactivate" }}
                </div>

                <div
                    *ngIf="item.is_active === 'N'"
                    style="color: red; cursor: pointer; text-align: right"
                    (click)="activate(item)"
                >
                    {{ "Activate" }}
                </div>
            </div>
        </form>
    </div>
    <!-- <div style="display: flex; padding: 1rem; justify-self: center">
        <div class="btn-grad add-btn" (click)="save()">
            <span style="padding: 5px">Update</span>
        </div>
    </div> -->

    <!-- <br /> -->
    <!-- <div>
        <div
            style="
                font-size: 16px;
                font-style: italic;
                color: orangered;
                padding: 1rem 0rem 0.5rem 0;
            "
            *ngIf="selected_item"
        >
            Correct Stock if required
        </div>

        <div class="listHeader1" *ngIf="selected_item">
            <div class="txt-right-align">MRP</div>
            <div style="text-align: right">In Stock</div>
            <div
                class="text-align: right"
                style="text-align: right; width: 90px"
            >
                New Qty
            </div>
            <div>&nbsp;</div>
        </div>
        <div *ngIf="selected_item">
            <form #loginForm="ngForm">
                <div class="listItem1">
                    <div style="text-align: right">
                        {{ selected_item?.mrp }}
                    </div>
                    <div style="text-align: right">
                        {{ selected_item?.available_stock }}
                    </div>
                    <div style="text-align: right">
                        <mat-form-field style="width: 60px; text-align: right">
                            <input
                                type="number"
                                matInput
                                value="0"
                                name="qty"
                                #qty="ngModel"
                                [(ngModel)]="val.qty"
                            />
                        </mat-form-field>
                    </div>
                    <div style="text-align: center">
                        <mat-form-field style="width: 150px">
                            <mat-select
                                [(value)]="selected"
                                placeholder="Select Reason"
                                required
                                (selectionChange)="handleChange($event)"
                            >
                                <mat-option value="Missing"
                                    >Missing Item</mat-option
                                >
                                <mat-option value="Waste">Waste</mat-option>
                                <mat-option value="Breakage"
                                    >Breakage</mat-option
                                >
                                <mat-option value="Shrinkage"
                                    >Shrinkage</mat-option
                                >
                                <mat-option value="Write-offs"
                                    >Write-offs</mat-option
                                >
                                <mat-option value="Internal"
                                    >Internal</mat-option
                                >
                                <mat-option value="Other">Other</mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>
                </div>

                <div
                    style="
                        display: grid;
                        grid-template-columns: 1fr 1fr;
                        justify-items: center;
                    "
                >
                    <div
                        (click)="clear()"
                        style="
                            color: rgb(109, 109, 109);
                            cursor: pointer;
                            border-radius: 20px;
                            border-color: blue;
                            border: 1px solid;
                            width: 120px;
                            text-align: center;
                            padding: 4px;
                            font-size: 14px;
                        "
                    >
                        CANCEL
                    </div>

                    <div (click)="update(loginForm)" class="update">UPDATE</div>
                </div>
            </form>
        </div>
    </div> -->
</div>
